Puzzle-15 emulation.